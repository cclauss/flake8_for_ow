sudo: false
dist: trusty
language: python
python:
    - "2.7.13"
    - "3.6.0"
#   - "nightly"  # currently points to 3.7-dev
before_install:
    - git clone --depth=50 --branch=master https://github.com/openwhisk/openwhisk.git ~/openwhisk
install:
    - pip install flake8
before_script:
    flake8 ~/openwhisk --count --max-line-length=127 --statistics --exit-zero
script:
    # flake8 ~/openwhisk --count --select=E999--max-line-length=127 --statistics
    ls -Fla --color  # a basic no-op
notifications:
    on_success: change
    on_failure: always
